generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  id        String    @id
  createdAt DateTime  @map("created_at")
  deletedAt DateTime? @map("deleted_at")

  email     String    @unique
  password  String
}

enum LanguageCode {
  EN
  ES
}

model User {
  id               String @id
  accountId        String @unique @map("account_id")

  nickname         String
  preferredLanguage LanguageCode @default(EN) @map("preferred_language")

  createdAt        DateTime  @default(now()) @map("created_at")
  updatedAt        DateTime? @map("updated_at")
  deletedAt        DateTime? @map("deleted_at")
}

enum Species {
  DOG
  CAT
}

enum Gender {
  MALE
  FEMALE
}

// Pet Management context models
model Pet {
  id               String    @id
  ownerId          String?   @map("owner_id")

  species          Species
  gender           Gender
  name             String
  sterilized       Boolean @default(false)
  birthDate        DateTime? @map("birth_date")
  arrivalDate      DateTime? @map("arrival_date")
  color            String?   @map("color")
  microchipNumber  String?   @map("microchip_number")

  createdAt        DateTime  @map("created_at")
  updatedAt        DateTime? @map("updated_at")
  deletedAt        DateTime? @map("deleted_at")
}

model Veterinary {
  id             String    @id

  name           String
  address        String?
  email          String?
  primaryPhone   String?   @map("primary_phone")
  emergencyPhone String?   @map("emergency_phone")
  notes          String?

  createdAt      DateTime  @map("created_at")
  updatedAt      DateTime? @map("updated_at")
  deletedAt      DateTime? @map("deleted_at")
}

enum LifeMomentType {
  ACHIEVEMENT
  ANNIVERSARY
  ARRIVAL
  BATH
  DEATH
  DIET_CHANGE
  DISCOMFORT
  EXCURSION
  EXERCISE
  GIFT
  GOODBYE
  GROOMING_VISIT
  HYDRATION
  ILLNESS
  INJURY
  MEDICATION
  MOVE
  NAIL_CUT
  PLAY
  SOCIALIZATION
  SPECIAL_MEAL
  SURGERY
  TRAINING
  VACCINATION
  VETERINARY_VISIT
  WALK
}

enum LifeMomentTheme {
  CELEBRATION
  MEMORIES
  ACTIVITY
  DELICIOUS_MOMENTS
  GROOMING_AND_CARE
  WELLNESS
  FAREWELL
}

model LifeMoment {
  id          String   @id

  type        LifeMomentType
  theme       LifeMomentTheme
  petId       String   @map("pet_id")
  occurredOn  DateTime @map("occurred_on")
  description String?

  createdBy   String   @map("created_by")

  createdAt   DateTime  @map("created_at")
  updatedAt   DateTime? @map("updated_at")
}
